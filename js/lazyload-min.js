!function($,e,t,i){var o=$(e);$.fn.lazyload=function(i){function n(){var e=0;r.each(function(){var t=$(this);if(!a.skip_invisible||t.is(":visible"))if($.abovethetop(this,a)||$.leftofbegin(this,a));else if($.belowthefold(this,a)||$.rightoffold(this,a)){if(++e>a.failure_limit)return!1}else t.trigger("appear"),e=0})}var r=this,f,a={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return i&&(void 0!==i.failurelimit&&(i.failure_limit=i.failurelimit,delete i.failurelimit),void 0!==i.effectspeed&&(i.effect_speed=i.effectspeed,delete i.effectspeed),$.extend(a,i)),f=void 0===a.container||a.container===e?o:$(a.container),0===a.event.indexOf("scroll")&&f.bind(a.event,function(){return n()}),this.each(function(){var e=this,t=$(e);e.loaded=!1,void 0!==t.attr("src")&&!1!==t.attr("src")||t.is("img")&&t.attr("src",a.placeholder),t.one("appear",function(){if(!this.loaded){if(a.appear){var i=r.length;a.appear.call(e,i,a)}$("<img />").bind("load",function(){var i=t.attr("data-"+a.data_attribute);t.hide(),t.is("img")?t.attr("src",i):t.css("background-image","url('"+i+"')"),t[a.effect](a.effect_speed),e.loaded=!0;var o=$.grep(r,function(e){return!e.loaded});if(r=$(o),a.load){var n=r.length;a.load.call(e,n,a)}}).attr("src",t.attr("data-"+a.data_attribute))}}),0!==a.event.indexOf("scroll")&&t.bind(a.event,function(){e.loaded||t.trigger("appear")})}),o.bind("resize",function(){n()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&o.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&r.each(function(){$(this).trigger("appear")})}),$(t).ready(function(){n()}),this},$.belowthefold=function(t,i){var n;return(n=void 0===i.container||i.container===e?(e.innerHeight?e.innerHeight:o.height())+o.scrollTop():$(i.container).offset().top+$(i.container).height())<=$(t).offset().top-i.threshold},$.rightoffold=function(t,i){var n;return(n=void 0===i.container||i.container===e?o.width()+o.scrollLeft():$(i.container).offset().left+$(i.container).width())<=$(t).offset().left-i.threshold},$.abovethetop=function(t,i){var n;return(n=void 0===i.container||i.container===e?o.scrollTop():$(i.container).offset().top)>=$(t).offset().top+i.threshold+$(t).height()},$.leftofbegin=function(t,i){var n;return(n=void 0===i.container||i.container===e?o.scrollLeft():$(i.container).offset().left)>=$(t).offset().left+i.threshold+$(t).width()},$.inviewport=function(e,t){return!($.rightoffold(e,t)||$.leftofbegin(e,t)||$.belowthefold(e,t)||$.abovethetop(e,t))},$.extend($.expr[":"],{"below-the-fold":function(e){return $.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!$.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return $.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!$.rightoffold(e,{threshold:0})},"in-viewport":function(e){return $.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!$.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return $.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!$.rightoffold(e,{threshold:0})}})}(jQuery,window,document);